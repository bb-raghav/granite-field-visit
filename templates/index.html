<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Team Phantom — Granite Field Visit</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">

<style>
:root{
--bg:#0b1220;
--panel:#0f172a;
--card:#0f1b34;
--muted:#9aa6c3;
--fg:#e9ecf5;
--acc:#22d3ee;
--r:18px;
--sh:0 20px 50px rgba(0,0,0,.45)
}

*{box-sizing:border-box}
body{margin:0;font-family:Inter;background:var(--bg);color:var(--fg)}
.app{display:grid;grid-template-columns:280px 1fr;height:100vh}

aside{
padding:28px;
border-right:1px solid #0f172a;
background:var(--panel)
}

nav{margin-top:20px}
nav button{
all:unset;
display:block;
padding:12px;
margin-bottom:10px;
cursor:pointer;
border-radius:12px;
border:1px solid #1a2b55
}
nav button.active{border-color:var(--acc);background:#12254a}

main{padding:40px;overflow:auto}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:18px
}

.card{
background:var(--card);
padding:20px;
border-radius:var(--r);
box-shadow:var(--sh)
}

.muted{color:var(--muted)}

.gallery{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
gap:15px
}
.gallery img{
width:100%;
border-radius:14px;
cursor:pointer
}

.lightbox{
position:fixed;
inset:0;
background:rgba(0,0,0,.85);
display:none;
align-items:center;
justify-content:center
}
.lightbox.open{display:flex}
.lightbox img{max-width:92%;max-height:92%}
</style>
</head>

<body>
<div class="app">

<aside>
<h2>Team Phantom</h2>
<p class="muted">Granite Manufacturing Field Visit</p>

<nav>
<button class="active" data-tab="overview">Overview</button>
<button data-tab="problems">Problems</button>
<button data-tab="solutions">Solutions</button>
<button data-tab="gallery">Gallery</button>
<button data-tab="tech">Machines & Tech</button>
<button data-tab="safety">Health & Safety</button>
<button data-tab="report">Report</button>
<button data-tab="location">Location</button>
<button data-tab="team">Team</button>
</nav>
</aside>

<main>

<!-- OVERVIEW -->
<section id="overview">
<h1>Inside a Granite Manufacturing Shop</h1>
<p class="muted" style="max-width:760px">
A technical field study documenting engineering challenges and solutions in granite cutting — silica dust exposure,
heavy material handling, water management, and the economics of diamond-tipped machinery.
</p>

<div class="grid">
<div class="card">
<h3>Why It Matters</h3>
<p class="muted">Silicosis is a preventable occupational disease. Engineering controls reduce exposure by more than 90% when correctly implemented.</p>
</div>

<div class="card">
<h3>What We Observed</h3>
<p class="muted">Dry cutting, inconsistent PPE, manual slab handling, open slurry disposal, and high downtime from blade wear.</p>
</div>

<div class="card">
<h3>Our Goal</h3>
<p class="muted">Design a safer, cleaner, and more productive workflow using proven engineering controls and automation.</p>
</div>
</div>
</section>

<!-- PROBLEMS -->
<section id="problems" hidden>
<h2>Problems Observed</h2>
<div class="grid">

<div class="card">
<h3>Silica Dust Exposure</h3>
<p class="muted">Respirable crystalline silica from dry cutting causes silicosis, COPD and lung cancer. Lack of LEV and poor respirator use increase risk.</p>
</div>

<div class="card">
<h3>Unsafe Lifting</h3>
<p class="muted">400–1000 lb slabs moved manually cause musculoskeletal injuries and crushing hazards.</p>
</div>

<div class="card">
<h3>Water & Slurry Disposal</h3>
<p class="muted">Open slurry dumping clogs drains and contaminates soil, risking regulatory action.</p>
</div>

<div class="card">
<h3>Noise & Vibration</h3>
<p class="muted">More than 95 dB exposure leads to hearing loss and fatigue without protection.</p>
</div>

<div class="card">
<h3>Blade Wear & Downtime</h3>
<p class="muted">Variable hardness causes uneven wear, frequent blade changes, and lost production time.</p>
</div>

<div class="card">
<h3>Electrical Safety</h3>
<p class="muted">Exposed wiring near water with no RCD protection increases shock hazard.</p>
</div>

</div>
</section>

<!-- SOLUTIONS -->
<section id="solutions" hidden>
<h2>Engineering Solutions</h2>
<div class="grid">

<div class="card">
<h3>Local Exhaust Ventilation (LEV)</h3>
<p class="muted">Shrouds and HEPA vacuums capture dust at the source, reducing exposure by up to 90%.</p>
</div>

<div class="card">
<h3>Wet Cutting Systems</h3>
<p class="muted">Integrated water delivery suppresses dust and cools blades, extending life.</p>
</div>

<div class="card">
<h3>Ergonomic Automation</h3>
<p class="muted">Vacuum lifters and conveyors remove manual lifting and improve throughput.</p>
</div>

<div class="card">
<h3>Closed-Loop Water Filtration</h3>
<p class="muted">Sedimentation tanks recycle 95% of water and dewater sludge safely.</p>
</div>

<div class="card">
<h3>Predictive Maintenance</h3>
<p class="muted">Wear sensors and scheduling reduce blade cost and downtime.</p>
</div>

<div class="card">
<h3>Electrical Safety Upgrades</h3>
<p class="muted">RCD breakers, waterproof enclosures and proper earthing prevent shocks.</p>
</div>

</div>
</section>

<!-- GALLERY -->
<section id="gallery" hidden>
<h2>Gallery</h2>
<div class="gallery">

{% for img in trip %}
<img src="{{ url_for('static', filename='gallery/'+img) }}" onclick="openLightbox(this.src)">
{% endfor %}

{% for img in machines %}
<img src="{{ url_for('static', filename='machines/'+img) }}" onclick="openLightbox(this.src)">
{% endfor %}

{% for img in safety %}
<img src="{{ url_for('static', filename='safety/'+img) }}" onclick="openLightbox(this.src)">
{% endfor %}

</div>
</section>

<!-- REPORT -->
<section id="report" hidden>
<h2>Field Visit Report</h2>
{% if report %}
<iframe src="{{ url_for('static', filename='reports/'+report) }}" width="100%" height="700"></iframe>
{% else %}
<p class="muted">No report uploaded</p>
{% endif %}
</section>

</main>
</div>

<div class="lightbox" id="lightbox" onclick="closeLightbox()">
<img id="lightboxImg">
</div>

<script>
const btns=[...document.querySelectorAll("nav button")]
const secs=[...document.querySelectorAll("main section")]

btns.forEach(b=>{
  b.onclick=()=>{
    btns.forEach(x=>x.classList.remove("active"))
    b.classList.add("active")
    secs.forEach(s=>s.hidden=true)
    document.getElementById(b.dataset.tab).hidden=false
  }
})

function openLightbox(src){
  document.getElementById("lightboxImg").src=src
  document.getElementById("lightbox").classList.add("open")
}

function closeLightbox(){
  document.getElementById("lightbox").classList.remove("open")
}
</script>
</body>
</html>
